function soundDown(){soundVolume-=5,soundVolume<=10&&(soundVolume=0),player.setVolume(soundVolume),setTimeout(function(){soundVolume>=10&&soundDown()},30)}function soundUp(){soundVolume+=5,soundVolume>=70&&(soundVolume=80),player.setVolume(soundVolume),setTimeout(function(){soundVolume<=70&&soundUp()},40)}function tabFocus(){document.addEventListener("visibilitychange",function(){document.hidden?player.mute():"unmuted"==muteBtn.attr("data-muted")&&player.unMute()})}function sizeHandler(){windowWidth=$(window).innerWidth(),windowHeight=$(window).height(),halfWindowWidth=windowWidth/2,halfWindowHeight=windowHeight/2,$(".about").length&&(aboutPart2=2*windowHeight,aboutPart3=3*windowHeight,aboutPart4=4*windowHeight,aboutPart5=5*windowHeight,aboutPart6=6*windowHeight),windowWidth<=mobileDesktop&&(mobileDevice=!0,$("body").addClass("touch-logic"),desktopOnlyDiv.each(function(){$(this).remove()})),$("html.touchevents").length&&($("body").addClass("touch-logic"),mobileDevice=!0,noTouchDiv.each(function(){$(this).remove()}))}function removeClicked(e){setTimeout(function(){$(".clicked").removeClass("clicked")},e)}function divMouseFollow(){domBody.mousemove(function(e){var t=e.pageX,a=e.pageY;TweenMax.to(jsCursorFollower,.4,{x:t,y:a})})}function divMouseMove(e,t){domBody.mousemove(function(a){var i=a.pageX,o=a.pageY,n=(i-halfWindowWidth)*-t,r=(o-halfWindowHeight)*-t;TweenMax.to(e,1.175,{x:n,y:r})})}function dataActiveOff(e){e.attr("data-active","off")}function dataActiveOn(e){e.attr("data-active","on")}function caseFunctions(){duration=player.getDuration(),setInterval(function(){processTimelineCurrentTime(),currentTime>=$(".time-points li:nth-child(5)").attr("data-time-seconds")&&currentTime<=parseInt($(".time-points li:nth-child(5)").attr("data-time-seconds"))+5?timelineCaptions.attr("data-active-vid-caption","5"):currentTime>=$(".time-points li:nth-child(4)").attr("data-time-seconds")&&currentTime<=parseInt($(".time-points li:nth-child(4)").attr("data-time-seconds"))+5?timelineCaptions.attr("data-active-vid-caption","4"):currentTime>=$(".time-points li:nth-child(3)").attr("data-time-seconds")&&currentTime<=parseInt($(".time-points li:nth-child(3)").attr("data-time-seconds"))+5?timelineCaptions.attr("data-active-vid-caption","3"):currentTime>=$(".time-points li:nth-child(2)").attr("data-time-seconds")&&currentTime<=parseInt($(".time-points li:nth-child(2)").attr("data-time-seconds"))+5?timelineCaptions.attr("data-active-vid-caption","2"):currentTime>=$(".time-points li:nth-child(1)").attr("data-time-seconds")&&currentTime<=parseInt($(".time-points li:nth-child(1)").attr("data-time-seconds"))+5?timelineCaptions.attr("data-active-vid-caption","1"):timelineCaptions.attr("data-active-vid-caption","0")},200),setTimeout(function(){timePointsLI.each(function(){positionTimePoint($(this))})},1e3),setInterval(function(){currentProgress=currentTime/duration,currentTimeline.css({transform:"scaleX("+currentProgress+")"});var e=currentTimeline.width()*currentProgress;currentNode.css({transform:"translateX("+e+"px)"})},1e3)}function processTimelineCurrentTime(){currentTime=player.getCurrentTime(),finalTime=currentTime.toFixed(0),finalTime>=180?(m=3,finalTime-=180):finalTime>=120?(m=2,finalTime-=120):finalTime>=60?(m=1,finalTime-=60):m=0,finalTime=m+":"+("0"+finalTime).slice(-2),jsCurrentTime.text(finalTime)}function positionTimePoint(e){pointTimePoint=e.attr("data-time-seconds"),""==pointTimePoint&&(e.hide(),$("ul.timeline-captions li:nth-child("+(e.index()+1)+")").hide()),timePoint=pointTimePoint/duration*$(".current-timeline").width(),e.css({transform:"translateX("+timePoint+"px)"})}function showElementWithTransition(e){e.show(),setTimeout(function(){e.addClass("active")},20)}function hideElementWithTransition(e){e.removeClass("active"),setTimeout(function(){e.hide()},1e3)}function destroyElementWithTransition(e){e.removeClass("active"),setTimeout(function(){e.remove()},1e3)}function loadProgress(){}function siteLoadedTrigger(e){setTimeout(function(){domBody.removeClass("preloading")},preloaderTimeout)}function aboutLoaded(){dataActiveOn(statMask);var e={useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:""};countDigitCases=parseInt($("#js-about-count-up").text());var t=new CountUp("js-about-count-up",0,countDigitCases,0,5,e);setTimeout(function(){t.start()},1e3)}function bgColorData(e,t){e.css({"background-color":t})}function homeContentEntry(e){liN=e+1,homeCases[e][0]=$(".perch-content-cases li:nth-child("+liN+") div:nth-child(1)").html(),homeCases[e][1]=$(".perch-content-cases li:nth-child("+liN+") div:nth-child(2)").text(),homeCases[e][2]=$(".perch-content-cases li:nth-child("+liN+") div:nth-child(3)").text(),homeCases[e][3]=$(".perch-content-cases li:nth-child("+liN+") div:nth-child(4)").html(),homeCases[e][4]=$(".perch-content-cases li:nth-child("+liN+") div:nth-child(5)").text(),homeCases[e][5]=$(".perch-content-cases li:nth-child("+liN+")").attr("data-case-video-id"),homeCases[e][6]=$(".perch-content-cases li:nth-child("+liN+")").attr("data-case-active"),homeCases[e][7]=$(".perch-content-cases li:nth-child("+liN+") a").attr("href"),thisHomeCaseColor=$(".perch-content-cases li:nth-child("+liN+")").attr("data-case-color"),$("li:nth-child("+liN+")",homeBGColors).css({"background-color":thisHomeCaseColor}),thisHomeCaseImg=$(".perch-content-cases li:nth-child("+liN+")").attr("data-case-img"),$("li:nth-child("+liN+")",homeVidBGIMGs).css({"background-image":"url("+thisHomeCaseImg+")"}),homeContentToPopulate+=1,0==homeCasesTotalCalculated&&"false"==homeCases[e][6]&&(homeCasesTotal=e,homeCasesTotalCalculated=!0),homeContentToPopulate<=maxHomeCases-1&&homeContentEntry(homeContentToPopulate)}function changeHomeContent(){0==homeState?homeTypeWrapTitle.html(""):(homeTypeWrapTitle.html(homeCases[homeState-1][0]),homeTypeWrapA.attr("href",homeCases[homeState-1][7]),""==homeCases[homeState-1][1]?homeTypeWrapClient.hide():(homeTypeWrapClient.show(),homeTypeWrapClient.text(homeCases[homeState-1][1])),""==homeCases[homeState-1][3]?homeTypeWrapDesc.hide():(homeTypeWrapDesc.show(),homeTypeWrapDesc.html(homeCases[homeState-1][3])))}function loadCases(){preload=new createjs.LoadQueue,preload.on("complete",preloaderOff),preload.on("error",preloaderError),$(".case-thumbs li:lt(9)").each(function(){var e=$(".cases-thumb-img-wrap div",this).css("background-image");void 0!==e&&(e=e.replace("url(","").replace(")","").replace('"',"").replace('"',""),preload.loadFile(e))})}function loadHomeGif(){preload=new createjs.LoadQueue,preload.on("complete",preloaderOff),preload.on("error",preloaderError),preload.loadFile("/img/home-gifs/home-n.gif")}function preloaderError(){console.log(preloaderOff),preloaderOff()}function preloaderOff(){dataActiveOff(preloaderWrap),setTimeout(function(){preloaderWrap.remove()},1e3),$("body.home").length&&0==nLetterIn&&(nLetterIn=!0)}function changeHomeCase(e){homeState+=e,homeState>=homeCasesTotal+1&&(homeState=0),homeState<0&&(homeState=homeCasesTotal),0==homeState?domBody.attr("data-home-front-state","front"):domBody.attr("data-home-front-state","letters"),homeVidBGIMGs.attr("data-active-case",homeState),homeColorBGs.attr("data-active-case",homeState),0==mobileDevice&&soundDown(),setTimeout(function(){changeVideoIDAndLetter(0!=homeState?homeCases[homeState-1][5]:""),setTimeout(function(){nextNurtureLetter(e)},250)},210)}function nextNurtureLetter(e){nurtureLetterIndex=homeState,nurtureLetterIndex>7&&(nurtureLetterIndex-=7),1==nurtureLetterIndex?homeActiveLetter.attr("data-active-letter","n"):2==nurtureLetterIndex?homeActiveLetter.attr("data-active-letter","u"):3==nurtureLetterIndex?homeActiveLetter.attr("data-active-letter","r"):4==nurtureLetterIndex?homeActiveLetter.attr("data-active-letter","t"):5==nurtureLetterIndex?homeActiveLetter.attr("data-active-letter","u"):6==nurtureLetterIndex?homeActiveLetter.attr("data-active-letter","r"):7==nurtureLetterIndex?homeActiveLetter.attr("data-active-letter","e"):0==nurtureLetterIndex&&homeActiveLetter.attr("data-active-letter","none")}function scrolled(){homeCaseChange=!1,setTimeout(function(){homeCaseChange=!0},2e3)}function changeVideoIDAndLetter(e){setTimeout(function(){dataActiveOff(ytPlayer)},150),setTimeout(function(){0==mobileDevice&&player.loadVideoById(e),jsMonitorHomeCase.attr("data-active-case",homeState)},380),setTimeout(function(){dataActiveOff(typeWrap),setTimeout(function(){changeHomeContent(),setTimeout(function(){0!=homeState&&dataActiveOn(typeWrap)},60)},880)},300)}function pageLinkTransition(e){pageSweeper.show(),setTimeout(function(){dataActiveOn(pageSweeper),setTimeout(function(){location.href=e},750)},10)}function caseVideoTakeover(){caseVideoWrap.attr("data-case-vid-overide","full"),caseRightPanel.attr("data-content-state-overide","inactive"),fixedElements.attr("data-screen-state","video-full"),dataActiveOn(FullScreenTransition),dataActiveOff(socialNav),player.unMute(),jsGrid.attr("data-screen-state","video-full")}function closeCaseVideoTakeover(){1==videoStudyActive&&(player.loadVideoById(caseVideoID),videoStudyActive=!1),player.mute(),caseVideoWrap.attr("data-case-vid-overide","false"),caseRightPanel.attr("data-content-state-overide","active"),fixedElements.attr("data-screen-state","default"),dataActiveOff(FullScreenTransition),dataActiveOn(socialNav),jsGrid.attr("data-screen-state","")}function KeysEasterEgg(){$(document).keypress(function(e){if(eggEnabled){easterKey=String.fromCharCode(e.which);var t;$(".vid-bg").hide(),"c"==easterKey?t="color-burn":"d"==easterKey?t="difference":"e"==easterKey?t="exclusion":"h"==easterKey?t="hue":"l"==easterKey?t="luminosity":"s"==easterKey?t="saturation":"o"==easterKey?t="soft-light":(t="multiply",$(".vid-bg").show()),homeVideoMaskWrap.css({"mix-blend-mode":""+t})}})}$(document).ready(function(){function e(t){var a=$("#form1_hire-us-form");if(a.find('input[type="email"]').removeAttr("required"),a.find('input[type="email"]').attr("type","text"),t)a.find("input").first().select();else{var i=a.find(".field-error").parent(),o=i.find("input").add(i.find("textarea")).first();o.select().val(o.val())}a.on("submit",function(t){a.find(".field-error").remove();var i=a.serialize(),o=a.attr("id");t.preventDefault(),$.ajax({type:"POST",url:a.attr("action"),data:i}).done(function(t){var i=$(t).find("#"+o);i.length?(a.replaceWith(i),e()):$("body").addClass("thank-you")})})}!function(){(function(){var e=window.chrome,t=window.navigator,a=t.vendor,i=t.userAgent.indexOf("OPR")>-1,o=t.userAgent.indexOf("Edge")>-1;return!!t.userAgent.match("CriOS")||null!==e&&void 0!==e&&"Google Inc."===a&&0==i&&0==o})()&&$("html").addClass("chrome")}(),preloaderWrap.attr("data-preloader-on","on"),sizeHandler(),$("body.home").length&&(loadHomeGif(),homeContentEntry(homeContentToPopulate),navLogo.attr("data-logo-color","white"),KeysEasterEgg(),setTimeout(function(){changeHomeContent()},50)),$("body.about").length&&setInterval(function(){$(".lines").toggleClass("state-2")},5e3),$("body.contact").length&&setInterval(function(){dataActiveOn(mapWrap)},700),$(".cursor-follower").length&&divMouseFollow(),$("body.cases").length&&(caseThumbsLI.each(function(){"false"==$(this).attr("data-case-active")&&$(this).remove(),caseIndex=$(this).index()+1,caseIndex+="",caseIndex<=9&&(caseIndex="0"+caseIndex),caseNo1=caseIndex.charAt(0),caseNo2=caseIndex.charAt(1),$("h1 span:nth-child(1)",this).text(caseNo1),$("h1 span:nth-child(2)",this).text(caseNo2)}),loadCases()),$("body.hire-us").length&&e(!0),$("a").click(function(e){thisTarget=$(this).attr("target"),thisHref=$(this).attr("href"),"_blank"!=thisTarget&&-1==thisHref.indexOf("mailto")&&-1==thisHref.indexOf("tel:")&&(e.preventDefault(),"#"!=thisHref&&pageLinkTransition(thisHref))}),turnedOff.each(function(){$(this).remove()}),$(".case").length&&($(".para-columns li").each(function(){paraText=$("p",this).text(),""==paraText&&$(this).css({visibility:"hidden"})}),$(".para-columns").each(function(){paraText=$("li:first-child p",this).text(),""==paraText&&$(this).remove()}),$(".flex-columns.stats li").each(function(){statText=$(".stat",this).text(),""==statText&&$(this).remove()}),$("p.story-intro, figcaption").each(function(){""==$(this).text()&&$(this).remove()}),$(".img-wrap").each(function(){thisImg=$("img",this).prop("src"),-1==thisImg.indexOf("jpg")&&-1==thisImg.indexOf("png")&&-1==thisImg.indexOf("gif")&&(0==galleryTotalCalculated&&(totalGallImgs=parseInt($(this).attr("data-img-id"))-1,galleryTotalCalculated=!0,$(".gallery-nav li:gt("+(totalGallImgs-1)+")").remove()),$(this).remove())}),galleryImgInsert1=$(".img-wrap[data-img-id=1] img").prop("src"),galleryImgInsert2=$(".img-wrap[data-img-id=2] img").prop("src"),galleryImgInsert3=$(".img-wrap[data-img-id=3] img").prop("src"),galleryImgInsert4=$(".img-wrap[data-img-id=4] img").prop("src"),galleryImgInsert5=$(".img-wrap[data-img-id=5] img").prop("src"),galleryImgInsert6=$(".img-wrap[data-img-id=6] img").prop("src"),galleryImgInsert7=$(".img-wrap[data-img-id=7] img").prop("src"),galleryImgInsert8=$(".img-wrap[data-img-id=8] img").prop("src"),galleryImgInsert9=$(".img-wrap[data-img-id=9] img").prop("src"),galleryImgInsert10=$(".img-wrap[data-img-id=10] img").prop("src"),$(".img-gallery .imgs li:nth-child(1) figure").css({"background-image":"url("+galleryImgInsert1+")"}),$(".img-gallery .imgs li:nth-child(2) figure").css({"background-image":"url("+galleryImgInsert2+")"}),$(".img-gallery .imgs li:nth-child(3) figure").css({"background-image":"url("+galleryImgInsert3+")"}),$(".img-gallery .imgs li:nth-child(4) figure").css({"background-image":"url("+galleryImgInsert4+")"}),$(".img-gallery .imgs li:nth-child(5) figure").css({"background-image":"url("+galleryImgInsert5+")"}),$(".img-gallery .imgs li:nth-child(6) figure").css({"background-image":"url("+galleryImgInsert6+")"}),$(".img-gallery .imgs li:nth-child(7) figure").css({"background-image":"url("+galleryImgInsert7+")"}),$(".img-gallery .imgs li:nth-child(8) figure").css({"background-image":"url("+galleryImgInsert8+")"}),$(".img-gallery .imgs li:nth-child(9) figure").css({"background-image":"url("+galleryImgInsert9+")"}),$(".img-gallery .imgs li:nth-child(10) figure").css({"background-image":"url("+galleryImgInsert10+")"}),projColor=perchData.attr("data-project-color"),projBGColor.each(function(){$(this).css({"background-color":projColor})}),$("p strong, .para-columns h3, p a").each(function(){$(this).css({color:projColor})}),jsVideoStudy.on("click",function(e){videoStudyActive=!0,player.loadVideoById(studyVideoID),caseVideoTakeover()})),($("body.blog, body.article, body.contact, body.hire-us, html.touchevents").length||windowWidth<=mobileDesktop)&&setTimeout(function(){preloaderOff()},700),$("body.home, body.case, body.about").length?tabFocus():muteBtn.remove(),$("html.backgroundblendmode").length||$(".no-blend-kill").remove(),jsPreviewVideo.on("click",function(e){dataActiveOn(FullScreenTransition),fixedElements.attr("data-screen-state","video-full"),jsMonitorHomeState.attr("data-home-state","video-full"),dataActiveOff(jsGrid),dataActiveOff(socialNav),soundUp(),homeCaseChange=!1}),jsCloseVideoTakeover.on("click",function(e){dataActiveOff(FullScreenTransition),fixedElements.attr("data-screen-state",""),jsMonitorHomeState.attr("data-home-state",""),dataActiveOn(socialNav),dataActiveOn(jsGrid),soundDown(),homeCaseChange=!0}),$(".js-explore-front-content").on("click",function(e){"covered"==domWrapper.attr("data-front-state")?domWrapper.attr("data-front-state","revealed"):domWrapper.attr("data-front-state","covered")}),$(".js-toggle-home-experience-overlay").on("click",function(e){"off"==$(".js-home-overlay").attr("data-active")?(thisService=$(this).attr("data-service"),$(".js-content-service").hide(),$('.js-content-service[content-service="'+thisService+'"]').show(),$(".js-home-overlay").attr("data-active","on"),$(".home-experience-overlay-close-panel").attr("data-active","on")):($(".js-home-overlay").attr("data-active","off"),$(".home-experience-overlay-close-panel").attr("data-active","off"))}),$(".js-toggle-home-experience-overlay").on("mouseenter",function(e){thisService=$(this).attr("data-service"),$(".js-explore-slider").attr("data-hover",thisService)}),$(".js-toggle-home-experience-overlay").on("mouseleave",function(e){$(".js-explore-slider").attr("data-hover","default")}),letterPart.on("mouseenter",function(e){dataActiveOff(jsLetterHover)}),letterPart.on("mouseleave",function(e){dataActiveOn(jsLetterHover)}),$(".cases .js-preview-video").on("click",function(e){$(".cases .overflow-animate-wrap").attr("data-overflow-state","inactive")}),$(".cases .close").on("click",function(e){$(".cases .overflow-animate-wrap").attr("data-overflow-state","active")}),jsScroll.on("click",function(e){scrollVal=$(this).attr("data-scroll"),smooth.scrollTo(scrollVal)}),$(".js-case-scroll").on("click",caseVideoTakeover),$(".js-pause-video").on("click",function(e){"paused"==$(this).attr("data-pause-play-state")?(player.playVideo(),$(".js-pause-video").attr("data-pause-play-state","playing")):(player.pauseVideo(),$(".js-pause-video").attr("data-pause-play-state","paused"))}),jsScrollPart.on("click",function(e){scrollVal=(parseInt($(this).attr("data-scroll"))-1)*windowHeight,smooth.scrollTo(scrollVal),smoothLetter.scrollTo(scrollVal)}),jsNextHomeCase.on("click",function(e){changeHomeCase(1)}),jsPrevHomeCase.on("click",function(e){changeHomeCase(-1)}),jsOpenGallery.on("click",function(e){if(imgGallery.attr("data-active","active"),domWrapper.addClass("inactive"),galleryImg=$(this).attr("data-img-id"),imgGallery.attr("data-active-img",galleryImg),caseVideoWrap.attr("data-case-vid-overide","off"),$(".img-hover",this).addClass("clicked"),fixedElements.attr("data-screen-state","gallery"),dataActiveOff(socialNav),removeClicked(1500),0==mobileDevice){var t=e.pageX,a=e.pageY,i=-.1*(t-halfWindowWidth),o=-.1*(a-halfWindowHeight);TweenMax.to(galleryImgFigure,.05,{x:i,y:o}),setTimeout(function(){divMouseMove(galleryImgFigure,.1),player.pauseVideo()},600)}}),jsCloseGallery.on("click",function(e){imgGallery.attr("data-active","inactive"),domWrapper.removeClass("inactive"),$("body").hasClass("touch-logic")||player.playVideo(),caseVideoWrap.attr("data-case-vid-overide","false"),fixedElements.attr("data-screen-state","default"),dataActiveOn(socialNav)}),jsGalleryNext.on("click",function(e){currentGallImg=parseInt(imgGallery.attr("data-active-img")),currentGallImg!=totalGallImgs&&(newGallImg=currentGallImg+1,imgGallery.attr("data-active-img",newGallImg))}),jsGalleryPrev.on("click",function(e){currentGallImg=parseInt(imgGallery.attr("data-active-img")),1!=currentGallImg&&(newGallImg=currentGallImg-1,imgGallery.attr("data-active-img",newGallImg))}),muteBtn.on("click",function(e){"unmuted"==muteBtn.attr("data-muted")?(player.mute(),muteBtn.attr("data-muted","muted")):(player.unMute(),muteBtn.attr("data-muted","unmuted"))}),FullScreenTransition.on("mouseenter",function(e){dataActiveOn(jsCursorBack)}),FullScreenTransition.on("mouseleave",function(e){dataActiveOff(jsCursorBack)}),FullScreenTransition.on("click",function(e){dataActiveOff(jsCursorBack)}),$("body.about").length&&($("p").each(function(){""==$(this).text()&&$(this).remove()}),jsAboutOverflowOn.on("click",function(e){dataActiveOn(jsAboutVideo),dataActiveOn(jsLetterHover),navLogo.attr("data-logo-color","black")}),jsAboutOverflowOff.on("click",function(e){dataActiveOff(jsAboutVideo),dataActiveOff(jsLetterHover),navLogo.attr("data-logo-color","white")})),$("body.case").length&&(jsVideoTakeover.on("click",caseVideoTakeover),jsCloseCaseVideoTakeover.on("click",closeCaseVideoTakeover),skipToStart.on("click",function(e){player.seekTo(0)}),$(".timeline-skipper").on("click",function(e){var t=(event.pageX-$(".timeline-skipper").offset().left)/$(".timeline-skipper").width()*player.getDuration();player.seekTo(t),processTimelineCurrentTime()})),jsOpenNav.on("click",function(e){dataActiveOn(navMenu),navLogo.attr("data-menu-active","active")}),jsCloseNav.on("click",function(e){dataActiveOff(navMenu),navLogo.attr("data-menu-active","inactive")}),$(".letters").on("mouseenter",function(e){$(".cursor-part").addClass("animate"),setTimeout(function(){$(".cursor-part").removeClass("animate")},1600)}),$(".case-thumbs li").on("click",function(e){thisProjColor=$(".case-bg",this).css("background-color"),$("div",pageSweeperUnder).css({"background-color":thisProjColor})});var t=$("#ouibounce-modal");window.ouibounce&&t.length&&ouibounce(t[0],{delay:300,aggressive:!1,callback:function(){eggEnabled=!1,t.addClass("show");var e=t.find(".close");e.on("click",function a(){t.css("display","none"),t.removeClass("show"),e.off("click",a),eggEnabled=!0})}})}),$(window).resize(function(){sizeHandler()}),$(window);
//# sourceMappingURL=main.min.js.map
